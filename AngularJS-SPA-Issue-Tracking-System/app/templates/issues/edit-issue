<div class="col-lg-8"
     ng-if="authenticationService.isAdmin()||
     issueData.projectLeaderName === authenticationService.getCurrentUser().userName">
    <div class="well bs-component">
        <form class="form-horizontal" name="change-password" id="edit-issue-form">
            <legend>Edit Issue</legend>
            <div class="form-group">
                <label for="editIssueTitle" class="col-lg-4 control-label">Title</label>
                <div class="col-lg-8">
                    <input type="text"
                           class="form-control"
                           id="editIssueTitle"
                           placeholder="{{issueData.Title}}"
                           ng-model="editIssueData.Title" required>
                </div>
            </div>
            <div class="form-group">
                <label for="editIssueAssignee" class="col-lg-4 control-label">Assignee</label>
                <div class="col-lg-8">
                    <select id="editIssueAssignee"
                            class="form-control"
                            ng-model="editIssueData.AssigneeId" required>
                        <option ng-if="issueData.projectLeaderName === authenticationService.getCurrentUser().userName
                                   ||authenticationService.isAdmin()"
                                ng-repeat="user in users" value="{{user.Id}}">
                            {{user.Username}}
                        </option>
                        <option value="{{editIssueData.Assignee.Id}}" selected>
                            {{issueData.Assignee.Username}}
                        </option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <label for="editIssueProject" class="col-lg-4 control-label">Project</label>
                <div class="col-lg-8">
                    <input type="text"
                           id="editIssueProject"
                           class="form-control"
                           disabled
                           placeholder="{{issueData.Project.Name}}">
                </div>
            </div>
            <div class="form-group">
                <label for="editIssuePriority" class="col-lg-4 control-label">Priority</label>
                <div class="col-lg-8">
                    <select id="editIssuePriority"
                            class="form-control"
                            ng-model="editIssueData.PriorityId" required>
                        <option ng-repeat="priority in issueData.projectPriorities" value="{{priority.Id}}">
                            {{priority.Name}}
                        </option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <label for="editIssueDueDate" class="col-lg-4 control-label">Due Date</label>
                <div class="col-lg-8">
                    <input type="date"
                           class="form-control"
                           id="editIssueDueDate"
                           ng-model="editIssueData.DueDate" required>
                </div>
            </div>
            <div class="form-group">
                <label for="editIssueLabels" class="col-lg-4 control-label">Labels (comma separated)</label>
                <div class="col-lg-8">
                    <input type="text"
                           class="form-control"
                           id="editIssueLabels"
                           auto-complete
                           ng-change="autoComplete()"
                           ng-model="editIssueData.Labels" required>
                </div>
            </div>
            <div class="form-group">
                <label for="editIssueDescription" class="col-lg-4 control-label">Description</label>
                <div class="col-lg-8">
                    <textarea class="form-control"
                              id="editIssueDescription"
                              placeholder="{{issueData.Description}}"
                              ng-model="editIssueData.Description" required>
                    </textarea>
                </div>
            </div>
            <div class="form-group">
                <div class="col-lg-8 col-lg-offset-4">
                    <button type="submit"
                            class="btn btn-primary changePass"
                            ng-click="editIssue(editIssueData)">Edit Issue
                    </button>
                    <a href="#/" class="btn btn-default">Cancel</a>
                </div>
            </div>
        </form>
    </div>
</div>
